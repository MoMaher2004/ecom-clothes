{
	"info": {
		"_postman_id": "0b8d372a-9466-4418-93d1-981e3d9d42cb",
		"name": "saddle",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "38193655"
	},
	"item": [
		{
			"name": "products",
			"item": [
				{
					"name": "Public Routes",
					"item": [
						{
							"name": "Get Active Products",
							"protocolProfileBehavior": {
								"disabledSystemHeaders": {
									"user-agent": true,
									"accept": true,
									"accept-encoding": true,
									"connection": true
								}
							},
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/product/getProductsList?page=1&limit=2&orderBy=newAdded&withNursery=yes",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"product",
										"getProductsList"
									],
									"query": [
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "2"
										},
										{
											"key": "orderBy",
											"value": "newAdded"
										},
										{
											"key": "withNursery",
											"value": "yes"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Product by ID",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/product/getProductById/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"product",
										"getProductById",
										"1"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Admin Routes",
					"item": [
						{
							"name": "[ADMIN] Add New Product",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{admin_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Rare Orchid\",\n  \"price\": 45.99,\n  \"discount\": 0.15,\n  \"description\": \"Exotic orchid species\",\n  \"withNursery\": true,\n  \"amountOfSmallSize\": 8,\n  \"amountOfLargeSize\": 12\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/product/addProduct",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"product",
										"addProduct"
									]
								}
							},
							"response": []
						},
						{
							"name": "[ADMIN] Edit Product",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{admin_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"id\": 3,\n  \"price\": 95.50,\n  \"discount\": 0.25,\n  \"description\": \"Updated premium plant\",\n  \"amountOfSmallSize\": 7,\n  \"amountOfLargeSize\": 20\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/product/editProduct/3",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"product",
										"editProduct",
										"3"
									]
								}
							},
							"response": []
						},
						{
							"name": "[ADMIN] Delete Product",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{admin_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"id\": 4\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/product/deleteProduct/5",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"product",
										"deleteProduct",
										"5"
									]
								}
							},
							"response": []
						},
						{
							"name": "[ADMIN] Get Deleted Products",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{admin_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/product/getDeletedProductsList",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"product",
										"getDeletedProductsList"
									]
								}
							},
							"response": []
						},
						{
							"name": "[ADMIN] Restore Product",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{admin_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"id\": 5\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/product/restoreProduct",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"product",
										"restoreProduct"
									]
								}
							},
							"response": []
						},
						{
							"name": "[ADMIN] Get Product (Including Deleted)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{admin_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/product/getProductByIdAsAdmin/5",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"product",
										"getProductByIdAsAdmin",
										"5"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Image",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/product/deleteImage/1755626716231-769090992.png",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"product",
										"deleteImage",
										"1755626716231-769090992.png"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "users",
			"item": [
				{
					"name": "Authentication",
					"item": [
						{
							"name": "Login",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.environment.set('token', pm.cookies.get('token'));",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"emma.johnson@example.com\",\n    \"password\": \"12345678\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/user/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "Logout",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/user/logout",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"user",
										"logout"
									]
								}
							},
							"response": []
						},
						{
							"name": "Register User",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"email\": \"emma.johnson@example.com\",\n    \"password\": \"12345678\",\n    \"birthDate\": \"1990-01-01\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/user/add",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"add"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete current user account",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{admin_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/user/deleteAccount",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"deleteAccount"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Account Info",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/user/accountInfo",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"accountInfo"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Password Management",
					"item": [
						{
							"name": "Change Password",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"oldPassword\": \"12341234\",\n    \"newPassword\": \"12345678\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/user/changePassword",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"user",
										"changePassword"
									]
								}
							},
							"response": []
						},
						{
							"name": "Reset Password",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"newPassword\": \"12345678\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/user/resetPassword",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"resetPassword"
									]
								}
							},
							"response": []
						},
						{
							"name": "Send Reset Password Token",
							"request": {
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"emma.johnson@example.com\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/user/sendResetPasswordToken",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"sendResetPasswordToken"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check Password Token",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/user/checkPasswordToken?token=cf48c9378b024d1d70fae135a6d8d8a01a6f991cccf7235fdbfa98a000961409&email=emma.johnson%40example.com",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"checkPasswordToken"
									],
									"query": [
										{
											"key": "token",
											"value": "cf48c9378b024d1d70fae135a6d8d8a01a6f991cccf7235fdbfa98a000961409"
										},
										{
											"key": "email",
											"value": "emma.johnson%40example.com"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Admin Operations",
					"item": [
						{
							"name": "Update User Role",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"id\": 3,\n    \"isAdmin\": 0\n}"
								},
								"url": {
									"raw": "{{base_url}}/user/updateRole",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"user",
										"updateRole"
									]
								}
							},
							"response": []
						},
						{
							"name": "Deactivate User",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"id\": 3\n}"
								},
								"url": {
									"raw": "{{base_url}}/deactivate",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"deactivate"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Users List",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{base_url}}/api/user/list?page=1&limit=1&isDeleted=false",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"list"
									],
									"query": [
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "1"
										},
										{
											"key": "isDeleted",
											"value": "false"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Restore User",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"id\": 1\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/user/restoreUser",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"restoreUser"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get user By ID",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/user/getUserById/2",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"getUserById",
										"2"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get user By Email",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/user/getUserByEmail?email=emma.johnson@example.com",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"getUserByEmail"
									],
									"query": [
										{
											"key": "email",
											"value": "emma.johnson@example.com"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Email Verification",
					"item": [
						{
							"name": "Resend Confirmation Email",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/user/resendEmailConfirmationToken",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"resendEmailConfirmationToken"
									]
								}
							},
							"response": []
						},
						{
							"name": "Confirm Email (Simulated)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{jwt_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/user/confirm-email?token=2f7bde373c8cec2e1282a53b964f72b25016cdaa47f2d3b46a6705dd938d0d1a&id=10",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"user",
										"confirm-email"
									],
									"query": [
										{
											"key": "token",
											"value": "2f7bde373c8cec2e1282a53b964f72b25016cdaa47f2d3b46a6705dd938d0d1a"
										},
										{
											"key": "id",
											"value": "10"
										}
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "carts",
			"item": [
				{
					"name": "viewCart",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/cart/viewCart?page=1&limit=20",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cart",
								"viewCart"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "viewCartAsAdmin",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/cart/viewCartAsAdmin/10?page=1&limit=20",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cart",
								"viewCartAsAdmin",
								"10"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "add item",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"productId\": 2,\n    \"quantity\": 3\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/cart/addItem",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cart",
								"addItem"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete item",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/cart/deleteItem?productId=2&quantity=2",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cart",
								"deleteItem"
							],
							"query": [
								{
									"key": "productId",
									"value": "2"
								},
								{
									"key": "quantity",
									"value": "2"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"exec": [
					"pm.environment.set('base_url', 'http://localhost:3000');"
				],
				"type": "text/javascript"
			}
		},
		{
			"listen": "test",
			"script": {
				"exec": [
					"if (pm.response.code === 200 && pm.request.url.path.includes('login')) {",
					"    const jsonData = pm.response.json();",
					"    pm.environment.set('admin_token', jsonData.token);",
					"}"
				],
				"type": "text/javascript"
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000"
		},
		{
			"key": "admin_token",
			"value": ""
		}
	]
}